# タスク 8.1.2: chatWithOllama のホスト解決拡張

## 概要
`chatWithOllama` 呼び出し時にモデル文字列からホスト情報を解析し、適切な接続先 URL を決定するロジックを実装する。

## 目的
モデルごとに異なる Ollama サーバーへ接続できるようにしつつ、環境変数・デフォルト値によるフォールバックを保証する。

## 受け入れ条件
- [ ] `chatWithOllama` が新しいパーサーを利用して、接続先ホストを決定する。
- [ ] ホスト未指定時は `APP_OLLAMA_URL` を使用し、未定義の場合は `http://localhost:11434` にフォールバックする。
- [ ] エラーログに使用した URL が含まれる。
- [ ] ユニットテストでホスト解決とフォールバックが検証されている。

## 作業手順
1. [ ] タスク 8.1.1 で作成したユーティリティを `chatWithOllama` へ組み込み、戻り値を調整する。
2. [ ] URL 正規化や末尾スラッシュ削除など既存処理との整合性を確認する。
3. [ ] テスト (モック fetch など) を追加し、異なる設定ケースをカバーする。
4. [ ] `npm test -- ollamaApi` 等を実行して検証する。

## 検証 / テスト
- `npm test`
- 追加した `ollamaApi` テスト

## アウトプット
- 更新された `src/ollamaApi.ts`
- 追加されたテスト

## 関連情報
- タスク 8.1.1 の成果物
- `APP_OLLAMA_URL` の現行利用箇所
