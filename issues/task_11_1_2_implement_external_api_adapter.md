# タスク: 外部API抽象化レイヤーの実装

## 概要
Ollama APIとの直接結合を解消し、アダプターパターンによる抽象化レイヤーを導入します。

## 背景 / きっかけ
- `src/ollamaApi.ts:L14-L102`で外部APIとの直接結合が発生
- モックテストが困難で単体テストの品質が低下
- 将来的な他LLMプロバイダー対応が困難

## 実装内容
- [ ] `LLMProvider`インターフェースの定義
- [ ] `OllamaProvider`クラスの実装（既存コードのリファクタリング）
- [ ] `Agent`クラスでのプロバイダー注入対応
- [ ] モック用の`MockLLMProvider`実装

## 受け入れ条件
- [ ] `Agent`クラスが具体的なLLMプロバイダーに依存しない
- [ ] 既存機能の動作が変更されない（リグレッションテスト通過）
- [ ] モックプロバイダーを使用した単体テストが追加される
- [ ] 新しいLLMプロバイダーの追加が容易になる

## 優先度
High - アーキテクチャ改善の基盤

## 作業工数見積もり
4-6 時間

## 関連ファイル
- `src/ollamaApi.ts` (リファクタリング対象)
- `src/agent.ts` (プロバイダー注入)
- `src/interfaces/` (新規: インターフェース定義)
- `src/providers/` (新規: プロバイダー実装)

## 関連タスク
- task_10_2_1 (エージェントモジュール責任分離)
- task_11_1_3 (異常系テスト拡充)