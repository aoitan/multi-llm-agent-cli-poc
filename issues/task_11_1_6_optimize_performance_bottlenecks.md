# タスク: パフォーマンスボトルネックの最適化

## 概要
言語判定処理の同期実行やファイル読み込み処理など、パフォーマンスに影響する処理を最適化します。

## 背景 / きっかけ
- `src/agent.ts:L208-L250`の言語判定処理が同期的でレスポンス時間に影響
- `src/utils/scenarioIdentifier.ts:L17-L29`の不要な最適化（早すぎる抽象化）
- ファイル読み込み処理の効率化余地

## 実装内容
- [ ] 言語判定処理の非同期化・並列化
- [ ] ファイル読み込みキャッシュの適切な実装
- [ ] 不要なキャッシュ機能の削除
- [ ] パフォーマンス測定とベンチマークテストの追加
- [ ] メモリ使用量の最適化

## 受け入れ条件
- [ ] 言語判定処理がメインフローをブロックしない
- [ ] ファイル読み込み時間が50%以上短縮される
- [ ] 不要な最適化が除去される
- [ ] パフォーマンステストがCIに組み込まれる
- [ ] メモリリークが発生しない

## 優先度
Medium - ユーザーエクスペリエンス向上

## 作業工数見積もり
4-5 時間

## 関連ファイル
- `src/agent.ts` (言語判定処理)
- `src/utils/scenarioIdentifier.ts` (キャッシュ処理)
- `src/utils/promptLoader.ts` (ファイル読み込み)
- `benchmarks/` (新規: パフォーマンステスト)

## 最適化指標
- レスポンス時間: 現在値の50%以下
- メモリ使用量: 現在値の80%以下
- CPU使用率: 不必要なスパイクの除去

## 関連タスク
- task_11_1_4 (非同期処理設計改善)
- task_10_2_1 (エージェントモジュール責任分離)