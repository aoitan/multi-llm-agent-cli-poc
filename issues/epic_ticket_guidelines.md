# エピックチケット作成ガイドライン

## 目的
エピックチケットは複数ストーリーを束ねる最上位の計画単位です。プロダクトの方向性と成果を明確にし、下位ストーリーが達成すべきゴールを共有するために、以下の要素を整理して記載します。

## 作成手順
1. 対象となるプロダクト課題と期待する成果を洗い出す。
2. 既存の完了済みエピック (例: [`issues/completed/epic_4_dynamic_prompt_response_improvement.md`](completed/epic_4_dynamic_prompt_response_improvement.md)) を参照し、表現トーンと粒度を合わせる。
3. ストーリーレベルで分割できる境界を確認し、関連ストーリーの洗い出しを行う。
4. 受け入れ条件をチェックリスト形式で整理し、後続の進捗確認に備える。

## 必須セクション
- **タイトル:** `# エピック: <名前>` の形式で記載し、目的が一目で分かるキーワードを含める。
- **概要:** 背景・課題・狙いを2〜3段落で説明し、プロダクト価値やユーザーインパクトを明確にする。
- **成功指標:** 達成状況を客観的に判断できる定量/定性指標を列挙する。必要に応じてテレメトリやワークフローの状態変化を含める。
- **受け入れ条件 (チェックリスト必須):** 後続ストーリー完了後に検証できる観点を `- [ ]` 形式で列挙する。例として「主要シナリオで~が実行できる」「影響範囲のテストが整備されている」など。
- **スコープ/非スコープ:** 対象となる機能領域と含めない項目を明示し、下位ストーリー設計時の境界を共有する。
- **関連ストーリー:** 想定するストーリーをチェックリスト形式でリンクする。作成時点で未作成の場合は占位名で記載し、後からリンクを差し替える。
- **関連資料:** 要件定義、調査結果、既存ワークフローなどの参考情報があれば相対パスで追記する。

## 受け入れ条件チェックリスト例
```
## 受け入れ条件
- [ ] 主要エージェントで日本語応答遵守率が 95% 以上に向上している。
- [ ] 差分を測定するためのレポート出力がダッシュボードに反映される。
- [ ] 重要なリスクと緩和策がストーリーレベルに展開されている。
```

## ベストプラクティス
- 完了済みエピックでは、成功指標とストーリーの対応付けを明示している (例: [`issues/completed/epic_5_prompt_language_ab_test.md`](completed/epic_5_prompt_language_ab_test.md))。同様に、指標とストーリー配置の紐付けを文章内で説明する。
- ストーリーへのリンクは `* [ ] [ストーリー X.X: タイトル](story_x_x_slug.md)` 形式に統一し、進捗確認時にチェックできるようにする。
- 大きなリスクや依存関係がある場合は、概要直後に箇条書きで記載し、下位ストーリーでフォローする流れを明記する。
- エピック終了条件は「全ストーリー完了」に加えて、成果検証に必要な評価活動 (例: `main_evaluation.py` 実行) を含めると追跡しやすい。

## テンプレート
```
# エピック: <名前>

## 概要
<背景と狙い>

## 成功指標
- <指標1>
- <指標2>

## 受け入れ条件
- [ ] <条件1>
- [ ] <条件2>

## スコープ
- <含める項目>

## 非スコープ
- <含めない項目>

## 関連ストーリー
* [ ] [ストーリー <ID>: <タイトル>](story_...md)

## 関連資料
- <リンクやメモ>
```
