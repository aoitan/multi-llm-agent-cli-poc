# タスク: 異常系テストケースの拡充

## 概要
現在不足している異常系テストケースを追加し、エラーハンドリングの網羅性を向上させます。

## 背景 / きっかけ
- `src/__tests__/agent.test.ts:L49`でメインテストがskipされている
- `scripts/generate_reports.test.py`で正常系のみテスト、異常系が不足
- ファイル不存在、JSON解析エラー、subprocess失敗などの異常系テスト不足

## 実装内容
- [ ] `agent.test.ts`のskipされたテストの復旧と拡充
- [ ] ファイル不存在エラーのテストケース追加
- [ ] JSON解析エラーのテストケース追加
- [ ] subprocess失敗時のテストケース追加
- [ ] 非同期処理エラーのテストケース追加
- [ ] 境界値テストの実装

## 受け入れ条件
- [ ] 全主要モジュールで異常系テストが80%以上をカバー
- [ ] CI でエラーケースが自動検証される
- [ ] テストケースがTDD観点で仕様記述として機能する
- [ ] モックを適切に使用した独立性の高いテスト

## 優先度
High - 品質保証の基盤

## 作業工数見積もり
5-7 時間

## 関連ファイル
- `src/__tests__/agent.test.ts`
- `src/__tests__/` (新規テストファイル追加)
- `scripts/generate_reports.test.py`
- `scripts/__tests__/` (新規: Pythonテスト拡充)

## テスト観点
- ファイルシステムエラー
- ネットワーク障害
- JSON形式エラー
- 環境変数未設定
- メモリ不足
- タイムアウト

## 関連タスク
- task_10_1_2 (相談テストの復旧)
- task_11_1_2 (外部API抽象化)